{"ast":null,"code":"var _jsxFileName = \"/Users/dessiemompati/Desktop/Development/weather-app/src/components/organisms/ComplaintForm.js\";\nimport React, { Component } from 'react';\nimport Button from '../atoms/Button';\nimport FormField from '../molecules/FormField';\n\nclass ComplaintForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      message: '',\n      showDialogue: false,\n      submitSuccess: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    // console.log('submit clicked', this.state)\n    event.preventDefault();\n    fetch('https://jsonplaceholder.typicode.com/posts', {\n      method: 'POST',\n      body: JSON.stringify({\n        name: this.state.name,\n        email: this.state.email,\n        message: this.state.message\n      }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    }).then(response => {\n      if (response.status === 404) {\n        this.setState({\n          submitSuccess: false\n        });\n      } else {\n        this.setState({\n          submitSuccess: true\n        });\n      }\n\n      console.log('response', this.state);\n      return response.json();\n    }).then(json => {\n      console.log('sajdas', json);\n      this.setState({\n        name: '',\n        email: '',\n        message: '',\n        showDialogue: true\n      });\n    }).catch(err => {\n      console.log('error', err);\n    });\n  }\n\n  handleDialogue() {\n    this.setState({\n      showDialogue: false\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"form-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Make a complaint\")), React.createElement(\"form\", {\n      id: \"myform\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(FormField, {\n      type: \"text\",\n      name: \"name\",\n      label: \"Your Name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(FormField, {\n      type: \"text\",\n      name: \"email\",\n      label: \"Email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(FormField, {\n      type: \"textarea\",\n      name: \"message\",\n      label: \"Complaint\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nexport default ComplaintForm;","map":{"version":3,"sources":["/Users/dessiemompati/Desktop/Development/weather-app/src/components/organisms/ComplaintForm.js"],"names":["React","Component","Button","FormField","ComplaintForm","constructor","props","state","name","email","message","showDialogue","submitSuccess","handleChange","bind","handleSubmit","event","target","value","setState","preventDefault","fetch","method","body","JSON","stringify","headers","then","response","status","console","log","json","catch","err","handleDialogue","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '../atoms/Button';\nimport FormField from '../molecules/FormField';\n\nclass ComplaintForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      email: '',\n      message: '',\n      showDialogue: false,\n      submitSuccess: false,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    // console.log('submit clicked', this.state)\n    event.preventDefault();\n\n    fetch('https://jsonplaceholder.typicode.com/posts', {\n      method: 'POST',\n      body: JSON.stringify({\n        name: this.state.name,\n        email: this.state.email,\n        message: this.state.message\n      }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    })\n      .then(response => {\n        if (response.status === 404) {\n          this.setState({ submitSuccess: false })\n        }\n        else { this.setState({ submitSuccess: true }) }\n\n        console.log('response', this.state);\n        return response.json()\n      })\n      .then(json => {\n        console.log('sajdas', json);\n        this.setState({ name: '', email: '', message: '', showDialogue: true });\n      })\n      .catch(err => {\n        console.log('error', err);\n      });\n  }\n\n  handleDialogue() {\n    this.setState({ showDialogue: false })\n  }\n\n render() {\n   return (\n     <div className=\"form-content\">\n     <h2><strong>Make a complaint</strong></h2>\n     <form id='myform' onSubmit={this.handleSubmit}>\n       <FormField type=\"text\" name=\"name\" label=\"Your Name\" value={this.state.name} onChange={this.handleChange}/>\n       <FormField type=\"text\" name=\"email\" label=\"Email\" value={this.state.email} onChange={this.handleChange} />\n       <FormField type=\"textarea\" name=\"message\" label=\"Complaint\" value={this.state.message} onChange={this.handleChange}/>\n       <Button>Submit</Button>\n     </form>\n     </div>\n   );\n }\n}\nexport default ComplaintForm;"]},"metadata":{},"sourceType":"module"}