{"ast":null,"code":"var _jsxFileName = \"/Users/dessiemompati/Desktop/Development/weather-app/src/components/organisms/ComplaintForm.js\";\nimport React, { Component } from 'react';\nimport Button from '../atoms/Button';\nimport FormField from '../molecules/FormField';\nimport './ComplaintForm.css';\n\nclass ComplaintForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      message: '',\n      showDialogue: false,\n      submitSuccess: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    // console.log('submit clicked', this.state)\n    event.preventDefault();\n    fetch('https://jsonplaceholder.typicode.com/posts', {\n      method: 'POST',\n      body: JSON.stringify({\n        name: this.state.name,\n        email: this.state.email,\n        message: this.state.message\n      }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    }).then(response => {\n      if (response.status === 404) {\n        this.setState({\n          submitSuccess: false\n        });\n      } else {\n        this.setState({\n          submitSuccess: true\n        });\n      }\n\n      console.log('response', this.state);\n      return response.json();\n    }).then(json => {\n      console.log('response', json);\n      this.setState({\n        name: '',\n        email: '',\n        message: '',\n        showDialogue: true\n      });\n    }).catch(err => {\n      console.log('error', err);\n    });\n  }\n\n  handleDialogue() {\n    this.setState({\n      showDialogue: false\n    });\n  }\n\n  render() {\n    const form = React.createElement(\"div\", {\n      className: \"form-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Make a complaint\")), React.createElement(\"form\", {\n      id: \"myform\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(FormField, {\n      type: \"text\",\n      name: \"name\",\n      label: \"Your Name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(FormField, {\n      type: \"text\",\n      name: \"email\",\n      label: \"Email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(FormField, {\n      type: \"textarea\",\n      name: \"message\",\n      label: \"Complaint\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Submit\")));\n    const successMessage = React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"We\\u2019ve received your complaint, unfortunately we have no control of the weather we merely report on it. As such your complaint has been sent straight to our junk mail folder along with the weekly Wish and ASOS newsletters that we receive. Does anyone know how to unsubscribe from those? Seriously, you hit unsubscribe and they just keep on coming!\");\n    const failureMessage = React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Form has not been submitted, try again.\");\n    const dialogue = React.createElement(\"div\", {\n      className: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Thanks for you submitting!\")), this.state.submitSuccess === true ? successMessage : failureMessage, React.createElement(\"button\", {\n      onClick: () => this.handleDialogue(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Ok\"));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.state.showDialogue === false ? form : dialogue);\n  }\n\n}\n\n;\nexport default ComplaintForm;","map":{"version":3,"sources":["/Users/dessiemompati/Desktop/Development/weather-app/src/components/organisms/ComplaintForm.js"],"names":["React","Component","Button","FormField","ComplaintForm","constructor","props","state","name","email","message","showDialogue","submitSuccess","handleChange","bind","handleSubmit","event","target","value","setState","preventDefault","fetch","method","body","JSON","stringify","headers","then","response","status","console","log","json","catch","err","handleDialogue","render","form","successMessage","failureMessage","dialogue"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '../atoms/Button';\nimport FormField from '../molecules/FormField';\nimport './ComplaintForm.css'\n\nclass ComplaintForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      email: '',\n      message: '',\n      showDialogue: false,\n      submitSuccess: false,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    // console.log('submit clicked', this.state)\n    event.preventDefault();\n\n    fetch('https://jsonplaceholder.typicode.com/posts', {\n      method: 'POST',\n      body: JSON.stringify({\n        name: this.state.name,\n        email: this.state.email,\n        message: this.state.message\n      }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    })\n      .then(response => {\n        if (response.status === 404) {\n          this.setState({ submitSuccess: false })\n        }\n        else { this.setState({ submitSuccess: true }) }\n\n        console.log('response', this.state);\n        return response.json()\n      })\n      .then(json => {\n        console.log('response', json);\n        this.setState({ name: '', email: '', message: '', showDialogue: true });\n      })\n      .catch(err => {\n        console.log('error', err);\n      });\n  }\n\n  handleDialogue() {\n    this.setState({ showDialogue: false })\n  }\n\n render() {\n    const form = \n     <div className=\"form-content\">\n     <h2><strong>Make a complaint</strong></h2>\n     <form id='myform' onSubmit={this.handleSubmit}>\n       <FormField type=\"text\" name=\"name\" label=\"Your Name\" value={this.state.name} onChange={this.handleChange}/>\n       <FormField type=\"text\" name=\"email\" label=\"Email\" value={this.state.email} onChange={this.handleChange} />\n       <FormField type=\"textarea\" name=\"message\" label=\"Complaint\" value={this.state.message} onChange={this.handleChange}/>\n       <Button>Submit</Button>\n     </form>\n     </div>\n   \n\n\n    const successMessage = <p>We’ve received your complaint, unfortunately we have no control of the weather we merely report on it. As such your complaint has been sent straight to our junk mail folder along with the weekly Wish and ASOS newsletters that we receive. Does anyone know how to unsubscribe from those? Seriously, you hit unsubscribe and they just keep on coming!</p>\n    const failureMessage = <p>Form has not been submitted, try again.</p>\n\n    const dialogue = <div className=\"success\">\n      <h2><strong>Thanks for you submitting!</strong></h2>\n      {this.state.submitSuccess === true ? successMessage : failureMessage}\n      <button onClick={() => this.handleDialogue()}>Ok</button>\n    </div>\n\n    return (\n      <div>\n        {this.state.showDialogue === false ? form : dialogue}\n      </div>\n    );\n  }\n};\n\nexport default ComplaintForm;\n"]},"metadata":{},"sourceType":"module"}